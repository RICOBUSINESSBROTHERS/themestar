{% comment %}
  Section: Couche de tissu avec vidéo
  Description: Section présentant les caractéristiques du tissu avec support vidéo/image
{% endcomment %}

<style>
  .moisture-wicking-section {
    display: flex;
    align-items: center;
    gap: 3rem;
    padding: 4rem 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .moisture-wicking-content {
    flex: 1;
    padding-right: 2rem;
  }

  .moisture-wicking-media {
    flex: 1;
    border-radius: 20px;
    overflow: hidden;
    background: linear-gradient(135deg, #E8C5E8 0%, #D8B5E8 100%);
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .moisture-wicking-content h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    text-transform: uppercase;
  }

  .moisture-wicking-content p {
    font-size: 1.125rem;
    line-height: 1.8;
    margin-bottom: 1.5rem;
  }

  .moisture-wicking-content p strong {
    font-weight: 700;
  }

  .moisture-wicking-media video,
  .moisture-wicking-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  @media (max-width: 768px) {
    .moisture-wicking-section {
      flex-direction: column;
      padding: 2rem 1rem;
      gap: 2rem;
    }

    .moisture-wicking-content {
      padding-right: 0;
    }

    .moisture-wicking-content h2 {
      font-size: 1.75rem;
    }

    .moisture-wicking-content p {
      font-size: 1rem;
    }

    .moisture-wicking-media {
      min-height: 300px;
      width: 100%;
    }
  }
</style>

<div class="moisture-wicking-section">
  <div class="moisture-wicking-content">
    <h2>{{ section.settings.heading }}</h2>
    
    <p>
      {{ section.settings.intro_text_1 }} 
      <strong>{{ section.settings.intro_text_bold }}</strong> 
      {{ section.settings.intro_text_2 }}
    </p>

    <p>{{ section.settings.description_text }}</p>

    <p>
      {{ section.settings.benefit_text_1 }} 
      <strong>{{ section.settings.benefit_text_bold }}</strong> 
      {{ section.settings.benefit_text_2 }}
    </p>
  </div>

  <div class="moisture-wicking-media">
    {% if section.settings.media_url != blank %}
      {% assign file_extension = section.settings.media_url | split: '.' | last | downcase %}
      
      {% if file_extension == 'mp4' or file_extension == 'webm' or file_extension == 'mov' %}
        <video 
          autoplay 
          loop 
          muted 
          playsinline
          {% if section.settings.poster_image %}
            poster="{{ section.settings.poster_image | img_url: 'master' }}"
          {% endif %}
        >
          <source src="{{ section.settings.media_url }}" type="video/{{ file_extension }}">
          Votre navigateur ne supporte pas la lecture de vidéos.
        </video>
      {% else %}
        <img 
          src="{{ section.settings.media_url }}" 
          alt="{{ section.settings.heading }}"
          loading="lazy"
        >
      {% endif %}
    {% elsif section.settings.media_image %}
      {{ section.settings.media_image | img_url: 'master' | img_tag: section.settings.heading }}
    {% else %}
      <div style="padding: 2rem; text-align: center; color: #999;">
        <p>Ajoutez votre vidéo ou image</p>
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Couche",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Titre",
      "default": "COUCHE 1 : MAILLE À ÉVACUATION D'HUMIDITÉ DE QUALITÉ MÉDICALE"
    },
    {
      "type": "text",
      "id": "intro_text_1",
      "label": "Texte d'introduction (partie 1)",
      "default": "La couche 1 comprend un"
    },
    {
      "type": "text",
      "id": "intro_text_bold",
      "label": "Texte d'introduction (en gras)",
      "default": "tissu à évacuation d'humidité de qualité médicale"
    },
    {
      "type": "text",
      "id": "intro_text_2",
      "label": "Texte d'introduction (partie 2)",
      "default": "qui éloigne instantanément les fuites de votre peau en moins de 3 secondes."
    },
    {
      "type": "textarea",
      "id": "description_text",
      "label": "Texte descriptif",
      "default": "Ainsi, vous ne serez jamais assise dans l'humidité, contrairement aux serviettes, couches ou autres sous-vêtements 'anti-fuites' qui vous laissent humide et inconfortable toute la journée."
    },
    {
      "type": "text",
      "id": "benefit_text_1",
      "label": "Texte des avantages (partie 1)",
      "default": "Vous aurez enfin une protection qui vous garde"
    },
    {
      "type": "text",
      "id": "benefit_text_bold",
      "label": "Texte des avantages (en gras)",
      "default": "complètement sèche et fraîche"
    },
    {
      "type": "text",
      "id": "benefit_text_2",
      "label": "Texte des avantages (partie 2)",
      "default": "même pendant les fuites inattendues."
    },
    {
      "type": "header",
      "content": "Média (Vidéo ou Image)"
    },
    {
      "type": "text",
      "id": "media_url",
      "label": "URL du média",
      "info": "Collez l'URL complète de votre fichier .mp4, .webm, .mov ou .png depuis Shopify Files. Ex: https://cdn.shopify.com/..../video.mp4"
    },
    {
      "type": "image_picker",
      "id": "media_image",
      "label": "OU Image de remplacement",
      "info": "Utilisé si aucune URL n'est fournie ci-dessus"
    },
    {
      "type": "image_picker",
      "id": "poster_image",
      "label": "Image de prévisualisation (pour vidéo)",
      "info": "Image affichée avant le chargement de la vidéo"
    }
  ],
  "presets": [
    {
      "name": "Couche"
    }
  ]
}
{% endschema %}
